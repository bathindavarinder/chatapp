<!DOCTYPE html>
<html>
<head>
    <title>Left Side Menu App template</title>
    <!--
    This template can be used for simple app with left side menu that can be opened to switch views, for applications like Youtube App or Gmail app.
-->



    <link rel="stylesheet" type="text/css" href="appframework/af.ui.css" />
    <link rel="stylesheet" type="text/css" href="appframework/icons.css" />

    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="appframework/jq.appframework.js"></script>
    <script type="text/javascript" charset="utf-8" src="appframework/appframework.ui.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

    <script type="text/javascript" src="js/jquery.signalR-2.1.2.js"></script>

    <script type="text/javascript" src="http://bathindavarinder-001-site1.smarterasp.net/signalR/hubs"></script>
    <!--<script src="signalr/hubs" type="text/javascript"></script>-->

    <script type="text/javascript" charset="utf-8" src="js/signalRHub.js"></script>

    <!--AppFramework plugin for sliding side menu-->
    <script type="text/javascript" charset="utf-8" src="appframework/plugins/af.slidemenu.js"></script>

    <!-- phantom library, needed for XDK "legacy" container api calls -->
    <script src="intelxdk.js"></script>
    <!-- phantom library, needed for Cordova api calls -->
    <script src="cordova.js"></script>
    <!-- phantom library, needed for XDK "legacy" container CORS -->
    <script src="xhr.js"></script>

    <script>
        var onDeviceReady = function () {                             // called when Cordova is ready
            if (window.Cordova && navigator.splashscreen) {     // Cordova API detected
                $.ui.setSideMenuWidth('210px');
                $.ui.launch();

                var room = localStorage.getItem("room");
                var name = localStorage.getItem("Name");

                $(".HeadName").text(room);
                $.initiateConnection();


                $('#Back').on("click", function () {
                    var name = localStorage.getItem("Name");
                    var room = localStorage.getItem("room");
                    $.leaveRoom(room, name);
                    window.location = "rooms.html";
                });

                var $body = $('body');
                var scaleSource = $body.width();
                $("#Send").on("click", function () {
                    var Message = $("#HomeMessage").val();
                    var room = localStorage.getItem("room");

                    $.SendGroupMessage(room, name, Message);

                    $("#HomeMessage").val("");
                });                // hide splash screen
            }
        };
        document.addEventListener("deviceready", onDeviceReady, false);
    </script>

    <script>
        $.ui.autoLaunch = false;
        $.ui.animateHeaders = false;

        $(document).ready(function () {

        });

        $(document).unload(function () {

            var name = localStorage.getItem("Name");
            var room = localStorage.getItem("room");
            $.leaveRoom(room, name);

        });
    </script>
    <style>
        div#Footer {
            width: 100%;
            height: 80px;
            padding: 1px;
            background-color: #619ef2;
            color: #ffffff;
            position: absolute;
            bottom: 0px;
            text-align: center;
            margin-left: auto;
            margin-right: auto;
            position: fixed;
            bottom: 0;
        }

        .Textbox {
            width: 80%;
            color: white;
            background-color: white;
        }


        #MainComments {
            width: 80%;
        }

        #ChatWindow li {
            text-decoration: solid;
            font: 200;
            font-style: normal;
            font-size: 17px;
            margin-bottom: 3px;
            margin-top: 3px;
            height: 30px;
            width: auto;
            padding-top: 4px;
            padding-left: 5px;
        }

        #LeaveComments {
            margin-left: auto;
            margin-right: auto;
            text-align: left;
            width: 60%;
        }
    </style>

</head>
<body>
    <div id="afui">

        <!--Left Side Menu Navigation bar -->
        <nav>
            <ul id="userList" class="list">
                <li><a href="#" class="icon stack" id="Back">Rooms</a></li>
                <li><a href="#page1" class="icon home HeadName">Home</a></li>
                <!-- <li><a href="#page2" class="icon heart">Favorites</a></li>
                <li><a href="#page3" class="icon chat">Messages</a></li>
                <li><a href="#page4" class="icon user">Profile</a></li>-->
            </ul>
        </nav>

        <div id="content" style="">

            <!--Main View Pages-->
            <div class="panel" title="Home" id="page1" data-footer="none" selected="true">
                <header>
                    <a id="menubadge" onclick='$.ui.toggleSideMenu()' class='menuButton' style="float: left !important"></a>
                    <h1 id="HeadName" class="HeadName"></h1>
                </header>
                <div id="MainComments">
                    <ul id="ChatWindow" style="overflow: auto"></ul>
                </div>
                <div id="Footer">
                    <table style="width: 100%; margin-left: 17px; margin-top: 10px;">
                        <tr>
                            <td style="width: 80%">
                                <input id="HomeMessage" class="Textbox" type="text" style="color: black; width: 100%; border-radius: 10px; background-color: white" /></td>
                            <td style="width: 20%">
                                <img src="appframework/Sendbtn1.jpg" id="Send" style="height: 75%; border-radius: 10px; margin-right: 20px" /><!--  <button value="Send" id="Send">Send</button>--></td>
                        </tr>
                    </table>
                </div>
            </div>


            <!--   <div class="panel" title="Favorites" id="page2" data-footer="none">
            <header>
                <a id="A1" onclick='$.ui.toggleSideMenu()' class='menuButton' style="float:left !important"></a>
                <h1>Favorites</h1>
            </header>
            <p>This is view for second menu item</p>
        </div>
        
        <div class="panel" title="Messages" id="page3" data-footer="none">
            <header>
                <a id="A2" onclick='$.ui.toggleSideMenu()' class='menuButton' style="float:left !important"></a>
                <h1>Messages</h1>
            </header>
            <p>This is view for third menu item</p>
        </div>
        
        <div class="panel" title="Profile" id="page4" data-footer="none">
            <header>
                <a id="A3" onclick='$.ui.toggleSideMenu()' class='menuButton' style="float:left !important"></a>
                <h1>Profile</h1>
            </header>
            <ul id="ChatWindow"></ul>
        </div>-->

        </div>
    </div>
</body>
</html>
